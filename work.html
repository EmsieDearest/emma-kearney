<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css">
    <!-- CSS -->
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/prism.css">
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">

    <!-- Fonts -->
    <link rel="stylesheet" href="https://use.typekit.net/qkl2weg.css">

    <link rel="shortcut icon" type="image/x-icon" href="img/x-icon.png"/>

    <title>EMMA KEARNEY - WORK</title>
    <meta name="description"
          content="Multidisciplinary designer, front end developer and accessibility specialist solving business and user objectives.">
    <meta name="theme-color" content="#fafafa">

    <style>
        @font-face {
            font-family: 'Gopher Display Regular';
            src: url('/css/fonts/gopherdisplayregular-webfont.eot?#iefix') format('embedded-opentype'),
            url('/css/fonts/gopherdisplayregular-webfont.woff2') format('woff2'),
            url('/css/fonts/gopherdisplayregular-webfont.woff') format('woff'),
            url('/css/fonts/gopherdisplayregular-webfont.ttf') format('truetype'),
            url('/css/fonts/gopherdisplayregular-webfont.svg#gopher_displayregular') format('svg');
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }
    </style>
</head>
<body>
<div class="background">
    <div class="front" role="presentation"></div>
    <div class="back" role="presentation"></div>
</div>

<div id="cursor" class="run-animation" role="presentation"></div>

<header class="section">
    <div>
        <!-- Navigation -->
        <nav class="navbar justify-content-between sticky-top nav-fade">
            <div class="logo-div">
                <a href="index.html" class="col-md-4" aria-label="home" >
                    <img src="img/wave.svg" alt="Emma Kearney logo" id="logo" class="logo-home logo">
                </a>
            </div>
            <div class="nav navbar-nav-div">
                <ul class="navbar-nav flex-row">
                    <!------ Skip Nav ------>
                    <li class="nav-item align-self-center active">
                        <a href="index.html#main"><button id="skip" class="nav-link align-self-center">SKIP TO MAIN</button></a>
                    </li>
                    <!------ Work ------>
                    <li class="nav-item align-self-center mx-sm-2 active">
                        <a class="nav-link" href="work.html"><span class="sr-only">(current)</span>
                            WORK
                        </a>
                    </li>
                    <!------ Blog ------>
                    <li class="nav-item align-self-center mx-sm-2 ">
                        <a class="nav-link" href="blog.html">
                            BLOG
                        </a>
                    </li>
                    <!------ Contact ------>
                    <li class="nav-item align-self-center mx-sm-2">
                        <a class="nav-link" href="mailto: emma@emma-kearney.com">
                            CONTACT
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</header>
<main>
    <img class="bodyweightimg" src="img/bodyshop.png">
    <img class="johnkearneyimg" src="img/jk.jpg">
    <section aria-label="case studies" class="concepts">
        <a class="greenhouse" href="work/greenhouse.html">
            <h2 class="greenhouse">Greenhouse</h2>
            <img class="greenhouseimg" src="img/greenhouse.png">
        </a>
        <a class="col bodyweight" href="work/bodyweight.html">
            <h2 class="bodyweight">Bodyweight</h2>
        </a>
        <a class="col johnkearney" href="work/johnkearney.html">
            <h2 class="johnkearney">Art of Accessibility</h2>
        </a>
    </section>
</main>

<!-- JavaScript Sources -->
<!-- JQUERY -->
<script>window.jQuery || document.write('<script src="js/vendor/jquery-3.4.1.min.js"><\/script>')</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- BOOTSTRAP -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

<script src="js/main.js"></script>
<!--<script src="js/scroll.js"></script>-->
<script src="js/prism.js"></script>
<script type="text/javascript">
    // Form Validation
    let err1 = document.getElementById('err1');
    let err2 = document.getElementById('err2');
    let err3 = document.getElementById('err3');
    let name = document.getElementById('name');
    let email = document.getElementById('email');
    let message = document.getElementById('message');
    let form = document.getElementById('my-form');
    let button = document.getElementsByClassName('btn')
    const successMessage = document.getElementsByClassName('success-p');
    let action = 'https://formspree.io/emma@emma-kearney.com';
    let method = 'POST';
    const formInputs = form.getElementsByTagName("input");
    let data = new FormData(form);


    // Handle Error Validation
    const validate = () => {
        let validation = true;
        if (name.value.trim() === "") {
            err1.style.display = "block";
            name.setAttribute("aria-invalid", "true");
            validation = false;
        } else {
            err1.style.display = "none";
        }
        if (email.value.trim() === "") {
            err2.style.display = "block";
            name.setAttribute("aria-invalid", "true");
            validation = false;
        } else {
            err2.style.display = "none";
        }
        if (message.value.trim() === "") {
            err3.style.display = "block";
            name.setAttribute("aria-invalid", "true");
            validation = false;
        } else {
            err3.style.display = "none";
        }
        return validation;
    }

    // Remove error message when typing inside input
    name.addEventListener("keyup", event => {
        if (event.isComposing || event.keyCode === 229) {
            return;
        }
        err1.style.display = 'none';
    });
    email.addEventListener("keyup", event => {
        if (event.isComposing || event.keyCode === 229) {
            return;
        }
        err2.style.display = 'none';
    });
    message.addEventListener("keyup", event => {
        if (event.isComposing || event.keyCode === 229) {
            return;
        }
        err3.style.display = 'none';
    });

    // AJAX Submission Handler
    const submission = () => {
        if (validate() === true) {
            return true;
        }
        $.ajax({
            method: form.method,
            action: form.action,
            data: new FormData(form),
            success: function(){
                form.reset();
                button.css('display', 'none');
                successMessage.css('visibility', 'visible');
            }
        })

        ajax(method, action, data, success);
    }

    function ajax(method, action, data, success) {
        let xhr = new XMLHttpRequest();
        xhr.open(method, action);
        xhr.setRequestHeader("Accept", "application/json");
        xhr.onreadystatechange = function() {
            if (xhr.readyState !== XMLHttpRequest.DONE) return;
            if (xhr.status === 200) {
                success(xhr.response, xhr.responseType);
            }
        };
        xhr.send(data);
    }

    // if lt IE 9
    let e = ("abbr,article,aside,audio,bdi,canvas,datalist,details,dialog," +
        "figcaption,figure,footer,header,keygen,mark,menu,meter,main,nav,output," +
        "progress,rp,ruby,rt,section,source,summary,time,track,video,wbr").split(',');
    for (let i = 0; i < e.length; i++) {
        document.createElement(e[i]);
    }
</script>
<![endif]-->
</body>
</html>